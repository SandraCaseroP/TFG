<div class="formulario">

    <ul class="tab-group">
        <li class="tab active"><a routerLink="/sign-up">Sign Up</a></li>
        <li class="tab"><a routerLink="/login">Log In</a></li>
    </ul>

    <h5 class="header">Welcome!</h5>

    <form class="text-center" #registroForm="ngForm" (submit)="registrarse(registroForm.value)">

        <div class="form-group">
            <input type="text" required [(ngModel)]="user.nombre" name="nombre" #nombre="ngModel" placeholder="Nombre*"
                class="form-control" />
            <div [hidden]="nombre.valid || nombre.pristine" class="alert alert-danger">
                El nombre es obligatorio
            </div>
        </div>

        <div class="form-group">
            <input type="text" required [(ngModel)]="user.apellidos" name="apellidos" #apellidos="ngModel"
                placeholder="Apellidos*" class="form-control" />
            <div [hidden]="apellidos.valid || apellidos.pristine" class="alert alert-danger">
                Los apellidos es obligatorio
            </div>
        </div>

        <div class="form-group">
            <input type="text" required [(ngModel)]="user.dni" name="dni" #dni="ngModel" placeholder="DNI*"
                class="form-control" />
            <div [hidden]="dni.valid || dni.pristine" class="alert alert-danger">
                El dni es obligatorio
            </div>
        </div>

        <div class="form-group">
            <input type="text" required [(ngModel)]="user.telefono" name="telefono" #telefono="ngModel"
                placeholder="Telf*" class="form-control" />
            <div [hidden]="telefono.valid || telefono.pristine" class="alert alert-danger">
                El telefono es obligatorio
            </div>
        </div>

        <div class="form-group">
            <input type="text" class="form-control" required [(ngModel)]="user.email" name="email" #email="ngModel"
                (blur)="checkEmail(email.value)" placeholder="Email*">
            <div [hidden]="email.valid || email.pristine" class="alert alert-danger">
                El email es obligatorio
            </div>
            <div [hidden]="!checkCorreo" class="alert alert-info">
                Comprobando correo ...
            </div>
            <div [hidden]="correoCorrecto" class="alert alert-danger">
                Ese correo está en uso
            </div>
        </div>

        <div class="form-group">
            <input type="text" class="form-control" required [(ngModel)]="user.userName" name="userName"
                #userName="ngModel" (blur)="checkUsuario(userName.value)" placeholder="user Name*">
            <div [hidden]="userName.valid || userName.pristine" class="alert alert-danger">
                El user es obligatorio
            </div>
            <div [hidden]="!checkUser" class="alert alert-info">
                Comprobando user ...
            </div>
            <div [hidden]="userCorrecto" class="alert alert-danger">
                Ese user está en uso
            </div>
        </div>

        <div class="form-group">
            <input type="password" class="form-control" required [(ngModel)]="user.password" name="password"
                #password="ngModel" placeholder="Password*">
            <div [hidden]="password.valid || password.pristine" class="alert alert-danger">
                El password es obligatorio
            </div>
        </div>

        <div class="form-group">
            <input type="password" class="form-control" required [(ngModel)]="user.password2" name="password2"
                #password2="ngModel" placeholder="Repeat Password">
            <div [hidden]="password.value == password2.value || password2.pristine" class="alert alert-danger">
                Las passwords no son iguales
            </div>
        </div>

        <button class="button button-block" type="submit"
            [disabled]="!registroForm.valid || password.value != password2.value || !correoCorrecto || !userCorrecto">Registrarse
        </button>

    </form>

</div>

<div *ngIf="signup">
    <div class="container">
        <div class="modal-dialog modal-confirm">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="icon-box">
                        <i class="material-icons">
                            <img src="assets/img/thumbs_up.png" class="thumbs" />
                        </i>
                    </div>
                </div>
                <div class="modal-body">
                    <h4 class="modal-title">Registrado con éxito</h4>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-info" data-dismiss="modal" (click)="cancel()">
                        <img src="assets/img/ghost.png" />
                        OOOOOOK
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>