<div class="formulario">
    <h5 class="header">Actualización del investigador....</h5>
    <form #investigadorUpdate="ngForm" class="text-center">

        <div class="profile_image" *ngIf="investigador.foto != null">
            <img src="data:image/jpg;base64,{{ investigador.foto }}" />
        </div>

        <div class="form-group">
            <input type="file" class="form-control" name="file" required (change)="leerImagen($event.target.files)"
                class="img" id="foto">
            <img src="assets/img/cancel.png" (click)="cancel($event)">
        </div>

        <div class="form-group">
            <label for="nombre" class="label">NOMBRE*</label>
            <input type="text" required [(ngModel)]="investigador.nombre" name="nombre" #nombre="ngModel"
                class="form-control">
            <div [hidden]="nombre.valid || nombre.pristine" class="alert alert-danger">
                El nombre es obligatorio
            </div>
        </div>

        <div class="form-group">
            <label for="apellidos" class="label">APELLIDOS*</label>
            <input type="text" required [(ngModel)]="investigador.apellidos" name="apellidos" #apellidos="ngModel"
                class="form-control">
            <div [hidden]="apellidos.valid || apellidos.pristine" class="alert alert-danger">
                Los apellidos son obligatorios
            </div>
        </div>

        <div class="form-group">
            <label for="lugar" class="label">DNI*</label>
            <input type="text" required [(ngModel)]="investigador.dni" name="lugar" #lugar="ngModel"
                class="form-control lugar">
            <div [hidden]="lugar.valid || lugar.pristine" class="alert alert-danger">
                El lugar es obligatorio
            </div>
        </div>

        <div class="form-group">
            <label for="lugar" class="label">Telefono*</label>
            <input type="text" required [(ngModel)]="investigador.telefono" name="lugar" #lugar="ngModel"
                class="form-control lugar">
            <div [hidden]="lugar.valid || lugar.pristine" class="alert alert-danger">
                El lugar es obligatorio
            </div>
        </div>

        <div class="form-group">
            <label for="lugar" class="label">Email*</label>
            <input type="text" class="form-control" required [(ngModel)]="investigador.email" name="email"
                #email="ngModel" (blur)="checkEmail(email.value)">
            <div [hidden]="email.valid || email.pristine" class="alert alert-danger">
                El email es obligatorio
            </div>
            <div [hidden]="!checkCorreo" class="alert alert-info">
                Comprobando correo ...
            </div>
            <div [hidden]="correoCorrecto" class="alert alert-danger">
                Ese correo está en uso
            </div>
        </div>

        <div class="form-group">
            <label for="lugar" class="label">User*</label>
            <input type="text" class="form-control" required [(ngModel)]="investigador.user" name="user" #user="ngModel"
                (blur)="checkUsuario(user.value)">
            <div [hidden]="user.valid || user.pristine" class="alert alert-danger">
                El user es obligatorio
            </div>
            <div [hidden]="!checkUser" class="alert alert-info">
                Comprobando user ...
            </div>
            <div [hidden]="userCorrecto" class="alert alert-danger">
                Ese user está en uso
            </div>
        </div>

        <div class="form-group">
            <label for="lugar" class="label">Password*</label>
            <input type="password" class="form-control" required [(ngModel)]="investigador.password" name="password"
                #password="ngModel">
            <div [hidden]="password.valid || password.pristine" class="alert alert-danger">
                El password es obligatorio
            </div>
        </div>

        <div class="form-group">
            <label for="lugar" class="label">Repeat password*</label>
            <input type="password" class="form-control" required [(ngModel)]="investigador.password" name="password2"
                #password2="ngModel">
            <div [hidden]="password.value == password.value || password.pristine" class="alert alert-danger">
                Las passwords no son iguales
            </div>
        </div>

        <div class="botones">
            <button type="submit" (click)="update()" [disabled]="!investigadorUpdate.valid" class="pulse">
                EDITAR INVESTIGADOR
            </button>
            <button type="button" routerLink="/investigadores" class="close">Cancelar</button>
        </div>

    </form>
</div>