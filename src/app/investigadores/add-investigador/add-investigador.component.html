<div class="formulario">
    <h5 class="header">A continuación recogeremos los datos del nuevo investigador....</h5>
    <form #investigadorNew="ngForm" class="text-center">

        <div class="profile_image" *ngIf="investigador.foto != null">
            <img src="data:image/jpg;base64,{{ investigador.foto }}" />
        </div>

        <div class="form-group">
            <input type="file" class="form-control" name="file" required (change)="leerImagen($event.target.files)"
                class="img" id="foto">
            <img src="assets/img/cancel.png" (click)="cancel($event)">
        </div>

        <div class="form-group">
            <input type="text" required [(ngModel)]="investigador.nombre" name="nombre" #nombre="ngModel"
                placeholder="Nombre del investigador" class="form-control">
            <div [hidden]="nombre.valid || nombre.pristine" class="alert alert-danger">
                El nombre es obligatorio
            </div>
        </div>

        <div class="form-group">
            <input type="text" required [(ngModel)]="investigador.apellidos" name="apellidos" #apellidos="ngModel"
                placeholder="Apellidos del investigador" class="form-control">
            <div [hidden]="apellidos.valid || apellidos.pristine" class="alert alert-danger">
                Los apellidos es obligatorio
            </div>
        </div>

        <div class="form-group">
            <input type="text" required [(ngModel)]="investigador.dni" name="dni" #dni="ngModel" placeholder="DNI"
                class="form-control">
            <div [hidden]="dni.valid || dni.pristine" class="alert alert-danger">
                El dni es obligatorio
            </div>
        </div>

        <div class="form-group">
            <input type="text" required [(ngModel)]="investigador.telefono" name="telefono" #telefono="ngModel"
                placeholder="Teléfono" class="form-control">
            <div [hidden]="telefono.valid || telefono.pristine" class="alert alert-danger">
                El telefono es obligatorio
            </div>
        </div>

        <!--<div class="form-group">
            <input type="file" class="form-control" name="file" (change)="leerImagen($event.target.files)" class="img">
        </div>-->

        <div class="form-group">
            <input type="text" class="form-control" required [(ngModel)]="investigador.email" name="email"
                #email="ngModel" (blur)="checkEmail(email.value)" placeholder="Email*">
            <div [hidden]="email.valid || email.pristine" class="alert alert-danger">
                El email es obligatorio
            </div>
            <div [hidden]="!checkCorreo" class="alert alert-info">
                Comprobando correo ...
            </div>
            <div [hidden]="correoCorrecto" class="alert alert-danger">
                Ese correo está en uso
            </div>
        </div>

        <div class="form-group">
            <input type="text" class="form-control" required [(ngModel)]="investigador.user" name="user" #user="ngModel"
                (blur)="checkUsuario(user.value)" placeholder="User*">
            <div [hidden]="user.valid || user.pristine" class="alert alert-danger">
                El user es obligatorio
            </div>
            <div [hidden]="!checkUser" class="alert alert-info">
                Comprobando user ...
            </div>
            <div [hidden]="userCorrecto" class="alert alert-danger">
                Ese user está en uso
            </div>
        </div>

        <div class="form-group">
            <input type="password" class="form-control" required [(ngModel)]="investigador.password" name="password"
                #password="ngModel" placeholder="Password*">
            <div [hidden]="password.valid || password.pristine" class="alert alert-danger">
                El password es obligatorio
            </div>
        </div>

        <div class="form-group">
            <input type="password" class="form-control" required [(ngModel)]="investigador.password" name="password"
                #password2="ngModel" placeholder="Repeat Password">
        </div>

        <div class="botones">
            <button type="submit" (click)="add()" [disabled]="!investigadorNew.valid" class="pulse">
                AÑADIR INVESTIGADOR
            </button>
            <button type="button" routerLink="/investigadores" class="close">Cancelar</button>
        </div>

    </form>
</div>